var ce=Object.defineProperty,ie=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var D=(e,t,o)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,k=(e,t)=>{for(var o in t||(t={}))ue.call(t,o)&&D(e,o,t[o]);if(j)for(var o of j(t))de.call(t,o)&&D(e,o,t[o]);return e},M=(e,t)=>ie(e,le(t));import{c as pe,V as ge,r as g,o as i,a as b,w as S,b as a,d as p,u as q,e as _e,f as T,g as Y,n as me,h as l,i as h,j as W,F as x,k as he,l as fe,m as Se,p as z,s as ye,q as ve,t as be,v as $e,x as Ae,y as Ie,z as Ce,A as we,B as Ee,C as Te,D as xe,E as Ue,G as Re,H as Le,I as Pe,J as ke,K as Me,L as Ne,M as Oe,N as I,O as _,P as m,Q as U,R as Fe,S as $,T as R,U as J,W as Ge,X as K,Y as N,Z as O,_ as He,$ as Ve,a0 as Be,a1 as je}from"./vendor.e16af399.js";const De=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}};De();const qe="\u0412\u0445\u043E\u0434",Ye="\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?",We="\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",ze="\u041F\u0430\u0440\u043E\u043B\u044C",Je="Email",Ke="\u0412\u043E\u0437\u0440\u0430\u0441\u0442",Xe="\u0418\u043C\u044F",Qe="\u041F\u043E\u043B",Ze="\u041C\u0443\u0436\u0441\u043A\u043E\u0439",et="\u0416\u0435\u043D\u0441\u043A\u0438\u0439",tt="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",ot="\u0412\u044B\u0431\u0440\u0430\u0442\u044C",st='\u041F\u043E\u043B\u0435 "{name}" \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u043A \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044E.',nt='\u041F\u043E\u043B\u0435 "{name}" \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043D\u0435 \u043C\u0435\u043D\u0435\u0435 {min} \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432.',at='\u041F\u043E\u043B\u0435 "{name}" \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043D\u0435 \u0431\u043E\u043B\u0435\u0435 {max} \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432.',rt="\u0416\u0434\u0438\u0442\u0435...",ct="\u0412\u044B\u0439\u0442\u0438",it="\u042F \u043F\u0440\u0438\u043D\u0438\u043C\u0430\u044E \u0443\u0441\u043B\u043E\u0432\u0438\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F \u0438 \u043F\u043E\u043B\u0438\u0442\u0438\u043A\u0443 \u043A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438.",lt="\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043Aa(-\u043E\u0432)",ut="\u0412\u044B",dt="\u0432 \u0441\u0435\u0442\u0438",pt="\u043F\u0435\u0447\u0430\u0442\u0430\u0435\u0442",gt="\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430.",_t="\u0413\u043B\u0430\u0432\u043D\u0430\u044F",mt="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",ht="\u041F\u043E\u0438\u0441\u043A";var ft={Login:qe,Forgot:Ye,Signup:We,Password:ze,Email:Je,Age:Ke,Username:Xe,Gender:Qe,Male:Ze,Female:et,Save:tt,Choose:ot,"Leave chat":"\u041F\u043E\u043A\u0438\u043D\u0443\u0442\u044C \u0447\u0430\u0442","Left chat":"\u0412\u044B \u043F\u043E\u043A\u0438\u043D\u0443\u043B\u0438 \u0447\u0430\u0442.","Join chat":"\u041F\u0440\u0438\u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C\u0441\u044F \u043A \u0447\u0430\u0442\u0443","No chats selected":"\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u0447\u0430\u0442\u043E\u0432.","No messages":"\u041D\u043E\u0432\u044B\u0445 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u043D\u0435\u0442.","Joined chat":"\u0412\u044B \u043F\u0440\u0438\u0441\u043E\u0435\u0434\u0438\u043D\u0438\u043B\u0438\u0441\u044C \u043A \u0447\u0430\u0442\u0443.",Required:st,"Valid email":'\u041F\u043E\u043B\u0435 "Email" \u0434\u043E\u043B\u0436\u043D\u043E \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u043F\u043E\u0447\u0442\u043E\u0432\u044B\u0439 \u0430\u0434\u0440\u0435\u0441.',Min:nt,Max:at,"User join chat":'\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C "{username}" \u0441\u0435\u0439\u0447\u0430\u0441 \u0432 \u0447\u0430\u0442\u0435.',"User leave chat":'\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C "{username}" \u043F\u043E\u043A\u0438\u043D\u0443\u043B \u0447\u0430\u0442.',"User online":'\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C "{username}" \u0441\u0435\u0439\u0447\u0430\u0441 \u0432 \u0441\u0435\u0442\u0438.',"User offline":'\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C "{username}" \u043D\u0435 \u0432 \u0441\u0435\u0442\u0438.',Loading:rt,"General data":"\u041E\u0431\u0449\u0438\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438","Successful login message":"\u0412\u044B \u0432\u043E\u0448\u043B\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443.","Logout Message":"\u0412\u044B \u0432\u044B\u0448\u043B\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043C\u044B.",Logout:ct,"Public chats":"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u0447\u0430\u0442\u044B","No public chats":"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0445 \u0447\u0430\u0442\u043E\u0432.","Alert label success":"\u0423\u0441\u043F\u0435\u0445!","Alert label error":"\u041E\u0448\u0438\u0431\u043A\u0430!","Alert label info":"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F!","Alert label warning":"\u041F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u0435!","Confirm password":"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u043E\u043B\u044F","Passwords must match":"\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442.","Firebase: Error (auth/user-not-found).":"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D.","Firebase: Error (auth/wrong-password).":"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D.","Firebase: Error (auth/email-already-in-use).":"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0441 \u0442\u0430\u043A\u0438\u043C\u0438 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.",Agree:it,"Reset password":"\u0421\u0431\u0440\u043E\u0441 \u043F\u0430\u0440\u043E\u043B\u044F","Instructions reset password":"\u0418\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u043F\u043E \u0441\u0431\u0440\u043E\u0441\u0443 \u043F\u0430\u0440\u043E\u043B\u044F \u0431\u044B\u043B\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u044B \u043D\u0430 \u0432\u0430\u0448 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B.",groupMembers:lt,You:ut,"Information about chat group":"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0433\u0440\u0443\u043F\u043F\u0435",online:dt,typing:pt,"Write Something":"\u041D\u0430\u043F\u0438\u0448\u0438\u0442\u0435 \u0447\u0442\u043E-\u043D\u0438\u0431\u0443\u0434\u044C ...",NotFound:gt,Home:_t,Settings:mt,"404 - Page not found":"404 - \u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430",Search:ht,"Information about user":"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435"};const St="login",yt="Forgot password?",vt="Signup",bt="Password",$t="Email",At="Age",It="Username",Ct="Gender",wt="Male",Et="Female",Tt="Save",xt="Choose",Ut='The "{name}" field is required.',Rt='The "{name}" must be at least {min}.',Lt='The "{name}" must be no more than {max}.',Pt="Loading...",kt="Logout",Mt="I accept the Terms of Use and Privacy policy.",Nt="Group members",Ot="You",Ft="online",Gt="typing",Ht="Page not found.",Vt="Home",Bt="Settings",jt="Search";var Dt={login:St,Forgot:yt,Signup:vt,Password:bt,Email:$t,Age:At,Username:It,Gender:Ct,Male:wt,Female:Et,Save:Tt,Choose:xt,"Leave chat":"Leave the chat","Left chat":"You have left the chat.","Joined chat":"You have joined the chat.","Join chat":"Join the chat","No chats selected":"No chats selected.","No messages":"No messages.",Required:Ut,"Valid email":'The "Email" must be a valid email address.',Min:Rt,Max:Lt,"User join chat":'User "{username}" in the chat.',"User leave chat":'User "{username}" left the chat.',"User online":'User "{username}" online.',"User offline":'User "{username}" offline.',Loading:Pt,Logout:kt,"Public chats":"Public chats","No public chats":"No public chats.","General data":"General data","Successful login message":"You have successfully logged in.","Logout Message":"You are logged out.","Alert label success":"Success!","Alert label error":"Error!","Alert label info":"Information!","Alert label warning":"Warning!","Confirm password":"Confirm password","Passwords must match":"Passwords must match.","Firebase: Error (auth/user-not-found).":"User not found.","Firebase: Error (auth/wrong-password).":"User not found.","Firebase: Error (auth/email-already-in-use).":"User already in use.",Agree:Mt,"Reset password":"Reset password","Instructions reset password":"Password reset instructions were sent to your email address.",groupMembers:Nt,You:Ot,"Information about chat group":"Information about chat group",online:Ft,typing:Gt,"Write Something":"Write Something ...",NotFound:Ht,Home:Vt,Settings:Bt,"404 - Page not found":"404 - Page not found",Search:jt,"Information about user":"Information about user"};const qt=pe({messages:{ru:ft,en:Dt},legacy:!1,fallbackLocale:"en",locale:"ru",globalInjection:!0});var u=(e,t)=>{const o=e.__vccOpts||e;for(const[s,n]of t)o[s]=n;return o};const Yt={props:{src:{type:String,required:!0},alt:{type:String,required:!0}},components:{VueLoadImage:ge}},Wt=["src","alt"],zt=a("div",{class:"flex h-full justify-center items-center"},[a("div",{class:"text-red-500 text-sm"},"Image load fails")],-1);function Jt(e,t,o,s,n,r){const c=g("app-loader"),d=g("vue-load-image");return i(),b(d,{class:"relative hidden sm:block w-1/2 overflow-hidden"},{image:S(()=>[a("img",{src:o.src,alt:o.alt,class:"object-cover h-full transform scale-110"},null,8,Wt)]),preloader:S(()=>[p(c)]),error:S(()=>[zt]),_:1})}var Kt=u(Yt,[["render",Jt]]);const Xt=()=>{const e=q(),{t}=_e(),o=async()=>{await me(()=>{var s;document.title=(s=t(e.meta.title))!=null?s:"Chat"})};T(()=>{o()}),Y(e,()=>{o()})};var Qt="/chat-client/assets/chat-bg.7cea9a77.png";const Zt={name:"AuthLayout",components:{AppImage:Kt},setup(){return Xt(),{imgUrl:Qt}}},eo={class:"container mx-auto"},to={class:"flex justify-center items-center h-screen"},oo={class:"flex w-full lg:w-1/2 overflow-hidden rounded-lg shadow ring-1 ring-gray-300 ring-inset"};function so(e,t,o,s,n,r){const c=g("app-image"),d=g("router-view");return i(),l("div",eo,[a("div",to,[a("div",oo,[p(c,{src:s.imgUrl,alt:"App chat"},null,8,["src"]),p(d)])])])}var no=u(Zt,[["render",so]]);const ao={name:"App",setup(){const e=q();return{layout:h(()=>e.meta.layout)}},components:{AuthLayout:no}};function ro(e,t,o,s,n,r){const c=g("app-toast"),d=g("router-view");return i(),l(x,null,[p(c),s.layout?(i(),b(W(s.layout+"-layout"),{key:0})):(i(),b(d,{key:1}))],64)}var co=u(ao,[["render",ro]]),io={apiKey:"AIzaSyBUTSG6k-OIP4PwxG1sLrhdveFocRt8-Dw",authDomain:"chat-app-cfaa8.firebaseapp.com",projectId:"chat-app-cfaa8",storageBucket:"chat-app-cfaa8.appspot.com",messagingSenderId:"130683707360",appId:"1:130683707360:web:7c21946a99e960568ad585"};he(io);const lo="modulepreload",X={},uo="/chat-client/",A=function(t,o){return!o||o.length===0?t():Promise.all(o.map(s=>{if(s=`${uo}${s}`,s in X)return;X[s]=!0;const n=s.endsWith(".css"),r=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":lo,n||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),n)return new Promise((d,re)=>{c.addEventListener("load",d),c.addEventListener("error",re)})})).then(()=>t())},po=[{path:"/",name:"home",meta:{title:"Home"},component:()=>A(()=>import("./Home.406cbf35.js"),["assets/Home.406cbf35.js","assets/vendor.e16af399.js"])},{path:"/login",name:"login",meta:{layout:"auth",title:"Login"},component:()=>A(()=>import("./Login.85755d91.js"),["assets/Login.85755d91.js","assets/object.792997c9.js","assets/vendor.e16af399.js"])},{path:"/forgot",name:"forgot",meta:{layout:"auth",title:"Reset password"},component:()=>A(()=>import("./Forgot.80853449.js"),["assets/Forgot.80853449.js","assets/object.792997c9.js","assets/vendor.e16af399.js"])},{path:"/signup",name:"signup",meta:{layout:"auth",title:"Signup"},component:()=>A(()=>import("./SignUp.939d410d.js"),["assets/SignUp.939d410d.js","assets/object.792997c9.js","assets/vendor.e16af399.js"])},{path:"/first-login",name:"firstLoginSettings",meta:{layout:"auth",title:"Settings"},component:()=>A(()=>import("./FirstLoginSettings.01f89a14.js"),["assets/FirstLoginSettings.01f89a14.js","assets/object.792997c9.js","assets/vendor.e16af399.js"])},{path:"/:pathMatch(.*)*",name:"notFound",component:()=>A(()=>import("./NotFound.7088dbc2.js"),["assets/NotFound.7088dbc2.js","assets/vendor.e16af399.js"]),meta:{title:"404 - Page not found"}}],go="/chat-client/",L=fe({history:Se(go),routes:po}),C=z();var w={async firebaseLogin({email:e,password:t}){try{return await ye(C,e,t)}catch(o){return Promise.reject(o)}},async firebaseLogout(){try{return await ve(C)}catch(e){return Promise.reject(e)}},async firebaseSignUp({email:e,password:t}){try{return await be(C,e,t)}catch(o){return Promise.reject(o)}},async firebaseResetPassword(e){try{return await $e(C,e)}catch(t){return Promise.reject(t)}},async getUserIdToken(){try{return await C.currentUser.getIdToken()}catch(e){return Promise.reject(e)}}},P={IS_LOGGED_IN:"IS_LOGGED_IN",IS_PROGRESS_STATUS_USERS_IN_CHAT:"IS_PROGRESS_STATUS_USERS_IN_CHAT",IS_PROGRESS_STATUS_USER_INFO:"IS_PROGRESS_STATUS_USER_INFO",IS_PROGRESS_STATUS_AUTH:"IS_PROGRESS_STATUS_AUTH",IS_PROGRESS_STATUS_MESSAGES:"IS_PROGRESS_STATUS_MESSAGES",IS_PROGRESS_STATUS_SELECTED_CHAT:"IS_PROGRESS_STATUS_SELECTED_CHAT",SET_NOTIFY:"SET_NOTIFY",IS_TOAST:"IS_TOAST",CLEAR_NOTIFY:"CLEAR_NOTIFY",SET_USER:"SET_USER",IS_NEW_USER:"IS_NEW_USER",SET_PUBLIC:"SET_PUBLIC",SELECT_CHAT_ID:"SELECT_CHAT_ID",CURRENT_CHAT:"CURRENT_CHAT",CURRENT_CHAT_MESSAGES:"CURRENT_CHAT_MESSAGES",ADD_MESSAGE:"ADD_MESSAGE",SET_USERS_IN_CURRENT_CHAT:"SET_USERS_IN_CURRENT_CHAT"};const _o=e=>{const t=localStorage.getItem("app_token");return e.headers.Authorization=`Bearer ${t}`,e},mo=e=>{e.interceptors.request.use(_o),e.interceptors.response.use(t=>t,async t=>(t.response.status===401?(await f.dispatch("auth/logout"),L.push({name:"login"})):t.response.status===404&&L.push({name:"notFound"}),Promise.reject(t)))},y=Ae.create({baseURL:"https://chatboris1979.herokuapp.com/api"});mo(y);const{SET_USER:F,IS_PROGRESS_STATUS_USER_INFO:G,IS_PROGRESS_STATUS_USERS_IN_CHAT:H,SET_USERS_IN_CURRENT_CHAT:Q}=P;var ho={namespaced:!0,state:{user:null,allUsersInCurrentChat:null,isProgressStatusUserInfo:!0,isProgressStatusUsersInChat:!0},getters:{user:({user:e})=>e,isProgressStatusUserInfo:({isProgressStatusUserInfo:e})=>e,isProgressStatusUsersInChat:({isProgressStatusUsersInChat:e})=>e,allUsersInCurrentChat:({allUsersInCurrentChat:e})=>e},mutations:{[F](e,t){e.user=t},[G](e,t){e.isProgressStatusUserInfo=t},[H](e,t){e.isProgressStatusUsersInChat=t},[Q](e,t){e.allUsersInCurrentChat=t}},actions:{setUserState:{handler({dispatch:e},t){t&&e("getUser",t.email)},root:!0},async getUser({commit:e},t){try{const o=await y.get(`/users/${t}`);console.log(o.data),e(F,o.data)}catch(o){console.log(o)}},async createUserInfo({commit:e},t){try{e(G,!0);const o=await y.post("/users",t);e(F,o.data)}catch(o){console.log(o)}finally{e(G,!1)}},async getAllUsersInCurrentChat({commit:e},t){try{e(H,!0);const o=await y.get("/users/chats/"+t);e(Q,o.data)}catch(o){console.log(o)}finally{e(H,!1)}}}};const{IS_LOGGED_IN:Z,IS_PROGRESS_STATUS_AUTH:v,IS_NEW_USER:ee}=P;var fo={namespaced:!0,state:{isLoggedIn:!!localStorage.getItem("app_token"),isProgressStatusAuth:!1,isNewUser:!1},getters:{isLoggedIn:({isLoggedIn:e})=>e,isProgressStatusAuth:({isProgressStatusAuth:e})=>e,isNewUser:({isNewUser:e})=>e},mutations:{[Z](e,t){e.isLoggedIn=t},[v](e,t){e.isProgressStatusAuth=t},[ee](e,t){e.isNewUser=t}},actions:{setLoggedIn:{root:!0,handler({commit:e},t){e(Z,t)}},async login({commit:e,dispatch:t},{email:o,password:s,t:n}){try{e(v,!0),await w.firebaseLogin({email:o,password:s})}catch(r){t("setNotify",{type:"error",message:n(r.message)},{root:!0})}finally{e(v,!1)}},async logout({commit:e}){try{await w.firebaseLogout()}catch(t){console.log(t.message)}},async signup({commit:e,dispatch:t},{email:o,password:s,t:n}){try{e(v,!0),await w.firebaseSignUp({email:o,password:s}),e(ee,!0)}catch(r){t("setNotify",{type:"error",message:n(r.message)},{root:!0})}finally{e(v,!1)}},async resetPassword({commit:e,dispatch:t},{email:o,t:s}){try{e(v,!0),await w.firebaseResetPassword(o),t("setNotify",{type:"info",message:s("Instructions reset password")},{root:!0})}catch(n){t("setNotify",{type:"error",message:s(n.message)},{root:!0})}finally{e(v,!1)}}}};const{SET_PUBLIC:te,SELECT_CHAT_ID:oe,CURRENT_CHAT:se,CURRENT_CHAT_MESSAGES:ne,ADD_MESSAGE:ae,IS_PROGRESS_STATUS_MESSAGES:V,IS_PROGRESS_STATUS_SELECTED_CHAT:B}=P;var So={namespaced:!0,state:{publicChat:[],selectedChatId:"",currentChat:null,currentChatMessages:[],isProgressStatusMessages:!0,isProgressStatusSelectedChat:!0},getters:{publicChat:({publicChat:e})=>e,selectedChatId:({selectedChatId:e})=>e,currentChat:({currentChat:e})=>e,currentChatMessages:({currentChatMessages:e})=>e,isProgressStatusMessages:({isProgressStatusMessages:e})=>e,isProgressStatusSelectedChat:({isProgressStatusSelectedChat:e})=>e},mutations:{[te](e,t){e.publicChat=t},[oe](e,t){e.selectedChatId=t},[se](e,t){e.currentChat=t},[ne](e,t){e.currentChatMessages=t},[ae](e,t){e.currentChatMessages.push(t)},[V](e,t){e.isProgressStatusMessages=t},[B](e,t){e.isProgressStatusSelectedChat=t}},actions:{async getPublicChats({commit:e}){try{const t=await y.get("/chats/public");e(te,t.data)}catch(t){console.log(t)}},async selectChat({commit:e,dispatch:t},o){e(oe,o),await t("getSelectedChat",o),await t("getSelectedChatMessages",o)},async getSelectedChat({commit:e},t){try{e(B,!0);const o=await y.get("/chats/"+t);e(se,o.data)}catch(o){console.log(o)}finally{e(B,!1)}},async getSelectedChatMessages({commit:e},t){try{e(V,!0);const o=await y.get("/messages/chat/"+t);e(ne,o.data)}catch(o){console.log(o)}finally{e(V,!1)}},addMessage({commit:e},t){e(ae,t)}}};const{SET_NOTIFY:yo,IS_TOAST:vo,CLEAR_NOTIFY:bo}=P;var $o={state:{messagePool:[],isToast:!1},getters:{message:({messagePool:e})=>e[e.length-1],isToast:({isToast:e})=>e},mutations:{[yo](e,t){e.messagePool.push(t)},[bo](e){e.message=[]},[vo](e,t){e.isToast=t}},actions:{setNotify({commit:e,dispatch:t},o){setTimeout(()=>{e("IS_TOAST",!0),e("SET_NOTIFY",o),t("clearNotify",5e3)},1e3)},clearNotify({commit:e},t=0){let o;clearTimeout(o),o=setTimeout(()=>{e("IS_TOAST",!1),e("CLEAR_NOTIFY")},t)}}};const Ao=e=>{const t=["login","signup","forgot"];L.beforeEach((o,s,n)=>t.includes(o.name)&&e.state.auth.isLoggedIn?n({name:"home"}):!t.includes(o.name)&&!e.state.auth.isLoggedIn?n({name:"login"}):n())},f=Ie({modules:{user:ho,auth:fo,notify:$o,chat:So}}),Io=z();Ce(Io,async e=>{if(e){const t=await w.getUserIdToken();localStorage.setItem("app_token",t)}else localStorage.removeItem("app_token");console.log(e),await f.dispatch("setLoggedIn",!!e),await f.dispatch("setUserState",e)});Ao(f);const Co={name:"AppIcon",props:{icon:{type:String,required:!0}},components:{LockOpenIcon:we,ExclamationCircleIcon:Ee,CheckIcon:Te,InformationCircleIcon:xe,XIcon:Ue,PaperAirplaneIcon:Re,CogIcon:Le,UserGroupIcon:Pe,DotsVerticalIcon:ke,MenuIcon:Me,ArrowLeftIcon:Ne,SearchIcon:Oe}};function wo(e,t,o,s,n,r){return i(),b(W(o.icon+"-icon"))}var Eo=u(Co,[["render",wo]]);const To={name:"AppInput",emits:["update:modelValue"],props:{errorMessage:{type:String,default:null},name:{type:String,required:!0},label:{type:String,default:null},type:{type:String,default:"text"},modelValue:{type:String},isActiveFocus:{type:Boolean,default:!1}},setup(e,{emit:t}){const o=I(null),s=r=>{t("update:modelValue",r.target.value)},n=h(()=>e.errorMessage?"border-red-300 focus-within:border-red-500":"border-gray-300 focus-within:border-blue-500");return T(()=>{e.isActiveFocus&&o.value.focus()}),{change:s,focus:o,inputBorderState:n}}},xo=["type","name","value","autocomplete"],Uo=["textContent"],Ro=["textContent"];function Lo(e,t,o,s,n,r){return i(),l("div",null,[a("div",{class:m([s.inputBorderState,"border-b-2 relative my-4"])},[a("input",{class:"float-input block w-full appearance-none focus:outline-none bg-transparent",type:o.type,name:o.name,value:o.modelValue,onInput:t[0]||(t[0]=(...c)=>s.change&&s.change(...c)),placeholder:" ",ref:"focus",autocomplete:o.name},null,40,xo),a("label",{textContent:_(e.$t(o.label)),class:m([{"is-invalid":o.errorMessage},"float-label -z-1 text-gray-500 absolute top-0 duration-300 origin-0"])},null,10,Uo)],2),o.errorMessage?(i(),l("div",{key:0,class:"-mt-3 text-xs text-red-500",textContent:_(o.errorMessage)},null,8,Ro)):U("",!0)])}var Po=u(To,[["render",Lo]]);const ko={name:"AppTextarea",emits:["update:modelValue"],props:{modelValue:String,isFocus:{type:Boolean,default:!1}},setup(e,{emit:t}){const o=I(null),s=r=>{t("update:modelValue",r.target.value)},n=()=>{e.isFocus&&o.value.focus()};return T(()=>{n()}),Fe(()=>{n()}),{change:s,root:o}}},Mo=["value","placeholder"];function No(e,t,o,s,n,r){return i(),l("textarea",{rows:"1",class:"w-full overflow-auto focus:outline-none text-gray-600 focus:placeholder-gray-300 placeholder-gray-400 bg-gray-100 rounded-lg p-3 resize-none",ref:"root",value:o.modelValue,onInput:t[0]||(t[0]=(...c)=>s.change&&s.change(...c)),placeholder:e.$t("Write Something")},null,40,Mo)}var Oo=u(ko,[["render",No]]);const Fo={name:"AppButton",props:{color:{type:String,default:"primary",validate(e){return["primary","success","danger","warning"].includes(e)}},isButtonLoading:{type:Boolean,default:!1},type:{type:String,default:"submit"}},setup(e){const t=I(null);return Y(()=>e.isButtonLoading,o=>{o?t.value.disabled=o:t.value.removeAttribute("disabled")}),{btn:t}}},Go=["type"],Ho=a("div",{class:"btn-loader group-hover:border-white"},null,-1);function Vo(e,t,o,s,n,r){return i(),l("button",{class:m(["btn group","btn-"+o.color]),type:o.type,ref:"btn"},[o.isButtonLoading?(i(),l(x,{key:0},[Ho,a("span",null,_(e.$t("Loading")),1)],64)):$(e.$slots,"default",{key:1})],10,Go)}var Bo=u(Fo,[["render",Vo]]);const jo={name:"AppToast",setup(){const e={error:{title:"Alert label error",icon:"exclamation-circle"},success:{title:"Alert label success",icon:"check"},info:{title:"Alert label info",icon:"information-circle"},warning:{title:"Alert label warning",icon:"information-circle"}},t=h(()=>f.getters.message),o=h(()=>f.getters.isToast),s=h(()=>t.value?M(k({},e[t.value.type]),{message:t.value.message,type:t.value.type}):null);return{close:()=>{f.dispatch("clearNotify")},toast:s,isToast:o}}},Do={key:0,class:"fixed top-4 right-4 z-30"},qo={class:"container"},Yo={class:"toast"},Wo={class:"px-4 py-2 -mx-3"},zo={class:"mx-3"},Jo=["textContent"],Ko=["textContent"];function Xo(e,t,o,s,n,r){const c=g("app-icon"),d=g("app-button-close");return i(),b(J,{to:"body"},[p(R,{name:"fade"},{default:S(()=>[s.isToast?(i(),l("div",Do,[a("div",qo,[a("div",Yo,[a("div",{class:m([["toast-"+s.toast.type],"flex items-center justify-center w-12"])},[p(c,{icon:s.toast.icon,class:"h-6 w-6 text-white"},null,8,["icon"])],2),a("div",Wo,[a("div",zo,[a("span",{class:m([["toast-title-"+s.toast.type],"font-semibold"]),textContent:_(e.$t(s.toast.title))},null,10,Jo),a("p",{textContent:_(s.toast.message)},null,8,Ko)])]),p(d,{onClick:s.close,class:"mr-2 mt-2"},null,8,["onClick"])])])])):U("",!0)]),_:1})])}var Qo=u(jo,[["render",Xo]]);const Zo={name:"AppLoader"},es={class:"absolute inset-0 flex justify-center items-center"},ts=a("div",{class:"loader"},null,-1),os=[ts];function ss(e,t,o,s,n,r){return i(),l("div",es,os)}var ns=u(Zo,[["render",ss]]);const as={name:"AppCheckboxInput",emits:["update:modelValue"],props:{modelValue:Boolean,name:String}},rs={class:"flex"},cs=["id","checked"],is=["for"];function ls(e,t,o,s,n,r){return i(),l("div",rs,[a("input",{type:"checkbox",id:o.name,checked:o.modelValue,onChange:t[0]||(t[0]=c=>e.$emit("update:modelValue",c.target.checked))},null,40,cs),a("label",{for:o.name,class:"ml-2 -mt-1"},[$(e.$slots,"default")],8,is)])}var us=u(as,[["render",ls]]);const ds={name:"AppSelectInput",emits:["update:modelValue"],props:{errorMessage:{type:String,default:null},name:{type:String,required:!0},label:{type:String,required:!0},options:Array,modelValue:String},setup(e,{emit:t}){const o=h(()=>e.errorMessage?"border-red-300 focus-within:border-red-500":"border-gray-300 focus-within:border-blue-500");return{change:n=>{t("update:modelValue",n.target.value)},inputBorderState:o}}},ps=["id","name","value"],gs={selected:"",value:"",disabled:""},_s=["value","textContent"],ms=["textContent"],hs=["textContent"];function fs(e,t,o,s,n,r){return i(),l("div",null,[a("div",{class:m([s.inputBorderState,"border-b-2 relative my-4"])},[a("select",{class:"float-input block w-full appearance-none focus:outline-none bg-transparent",id:o.name,name:o.name,value:o.modelValue,onChange:t[0]||(t[0]=(...c)=>s.change&&s.change(...c))},[a("option",gs,_(e.$t("Choose")),1),(i(!0),l(x,null,Ge(o.options,(c,d)=>(i(),l("option",{key:d,value:c.value,textContent:_(c.label)},null,8,_s))),128))],40,ps),a("label",{textContent:_(e.$t(o.label)),class:m([{"is-invalid":o.errorMessage},"float-label -z-1 text-gray-500 absolute top-0 duration-300 origin-0"])},null,10,ms)],2),o.errorMessage?(i(),l("div",{key:0,class:"-mt-3 text-xs text-red-500",textContent:_(o.errorMessage)},null,8,hs)):U("",!0)])}var Ss=u(ds,[["render",fs]]);const ys={name:"AppRadioInput",emits:["update:modelValue"],props:{modelValue:{type:String},name:{type:String,required:!0},checked:{type:Boolean,default:!1},id:{type:String,required:!0},value:{type:String,required:!0}}},vs={class:"flex items-center gap-2"},bs=["id","checked","name","value"],$s=["for"];function As(e,t,o,s,n,r){return i(),l("div",vs,[a("input",{type:"radio",id:o.id,checked:o.checked,name:o.name,value:o.value,onInput:t[0]||(t[0]=c=>e.$emit("update:modelValue",c.target.value))},null,40,bs),a("label",{for:o.id,class:"text-gray-500"},[$(e.$slots,"default")],8,$s)])}var Is=u(ys,[["render",As]]);const Cs={name:"AppAlert",props:{type:{type:String,required:!0,validator(e){return["error","success","info","warning"].includes(e)}}},setup(e){return{alert:I({error:{title:"Alert label error",icon:"exclamation-circle"},success:{title:"Alert label success",icon:"check"},info:{title:"Alert label info",icon:"information-circle"},warning:{title:"Alert label warning",icon:"information-circle"}}[e.type])}}},ws={class:"flex gap-2 flex-wrap"},Es=["textContent"];function Ts(e,t,o,s,n,r){const c=g("app-icon");return i(),l("div",{class:m(["alert",["alert-"+o.type]]),role:"alert"},[a("div",ws,[p(c,{icon:s.alert.icon,class:"h-6 w-6 text-teal"},null,8,["icon"]),a("div",{class:"font-bold",textContent:_(e.$t(s.alert.title))},null,8,Es),a("div",null,[$(e.$slots,"default")])])],2)}var xs=u(Cs,[["render",Ts]]);const Us={name:"AppBadge",props:{label:{type:[String,Number],required:!0},type:{type:String,default:"primary",validate(e){return["primary","secondary","success","danger","warning","info","light","dark"].includes(e)}}},setup(e){const t=["px-2","py-1","text-xs","font-medium","tracking-wide","rounded-full","text-white"],o={primary:["bg-indigo-400"],success:["bg-green-400"],danger:["bg-red-400"]},s=h(()=>o[e.type]);return{classes:t,activeClass:s}}},Rs=["textContent"];function Ls(e,t,o,s,n,r){return i(),l("span",{class:m([...s.classes,...s.activeClass]),textContent:_(o.label)},null,10,Rs)}var Ps=u(Us,[["render",Ls]]);const ks={name:"AppDropdown",props:{icon:{type:String,default:"chevron-down"}},setup(){const e=I(!1),t=()=>{e.value=!1};return T(()=>{document.addEventListener("click",t)}),{show:e}}},Ms={class:"relative grow"},Ns={class:"flex items-center"},Os={class:"ml-auto"},Fs={class:"flex items-center"},Gs={class:"right-0 top-full mt-2 bg-gray-50 rounded absolute z-10 shadow border border-gray-300 max-w-xs text-sm"};function Hs(e,t,o,s,n,r){const c=g("app-icon");return i(),l("div",Ms,[a("div",Ns,[a("div",Os,[a("div",Fs,[a("button",{onClick:t[0]||(t[0]=K(d=>s.show=!s.show,["stop"])),class:"focus:outline-none"},[p(c,{icon:o.icon,class:"w-5 h-5 text-gray-400"},null,8,["icon"])])]),p(R,{name:"slide-in-right"},{default:S(()=>[N(a("div",Gs,[$(e.$slots,"default")],512),[[O,s.show]])]),_:3})])])])}var Vs=u(ks,[["render",Hs]]);const Bs={name:"AppModal",emits:["update:state"],props:{state:{type:Boolean,default:!1},title:String},setup(e,{emit:t}){return{hideModal:()=>{t("update:state",!1)}}}},js={class:"opacity-50 fixed inset-0 z-20 bg-black"},Ds={class:"relative w-auto my-6 mx-auto max-w-3xl"},qs={class:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none pb-6"},Ys={class:"flex items-center justify-between p-2 border-b border-solid border-gray-200 rounded-t gap-4"},Ws={class:"text-lg ml-3 font-semibold"},zs={class:"relative flex-auto"};function Js(e,t,o,s,n,r){const c=g("app-button-close");return i(),b(J,{to:"body"},[p(R,{name:"fade"},{default:S(()=>[N(a("div",js,null,512),[[O,o.state]])]),_:1}),N(a("div",{onClick:t[0]||(t[0]=K((...d)=>s.hideModal&&s.hideModal(...d),["self"])),class:"flex overflow-x-hidden overflow-y-auto fixed inset-0 z-30 outline-none focus:outline-none justify-center items-center"},[a("div",Ds,[a("div",qs,[a("div",Ys,[a("div",Ws,_(o.title),1),p(c,{onClose:s.hideModal},null,8,["onClose"])]),a("div",zs,[$(e.$slots,"default")])])])],512),[[O,o.state]])])}var Ks=u(Bs,[["render",Js]]);const Xs={name:"AppTypingLoader"},Qs={class:"bg-white flex space-x-1 p-2 justify-center items-center"},Zs=a("div",{class:"bg-blue-400 rounded-full animate-bounce first-circle"},null,-1),en=a("div",{class:"bg-blue-400 rounded-full animate-bounce second-circle"},null,-1),tn=a("div",{class:"bg-blue-400 rounded-full animate-bounce last-circle"},null,-1),on=[Zs,en,tn];function sn(e,t,o,s,n,r){return i(),l("div",Qs,on)}var nn=u(Xs,[["render",sn]]);const an={name:"AppHamburger"},rn={class:"inline-flex items-center justify-center p-1 rounded-md hover:bg-gray-200 focus:outline-none focus:bg-gray-200"};function cn(e,t,o,s,n,r){const c=g("app-icon");return i(),l("button",rn,[p(c,{icon:"menu",class:"block h-5 w-5 text-gray-600"})])}var ln=u(an,[["render",cn]]);const un={name:"AppAvatar",props:{name:{type:String,required:!0},isOnline:{type:Boolean},classes:{type:Array,default:()=>["w-10","h-10"]}},setup(){const e=["bg-red","bg-blue"],t=["200","300","400","500"],o=n=>Math.floor(Math.random()*n.length);return{getRandomBgColor:h(()=>{const n=o(e),r=o(t);return`${e[n]}-${t[r]}`})}}},dn=["textContent"];function pn(e,t,o,s,n,r){return i(),l(x,null,[a("div",{class:m([[...o.classes,s.getRandomBgColor],"flex items-center justify-center rounded-full shrink-0"])},[a("span",{class:"font-bold text-white text-lg",textContent:_(e.$filters.firstChar(o.name))},null,8,dn)],2),p(R,{name:"fade"},{default:S(()=>[o.isOnline?(i(),l("div",{key:0,class:m([s.getRandomBgColor,"w-3 h-3 border-2 border-white bottom-0 right-0 absolute rounded-lg"])},null,2)):U("",!0)]),_:1})],64)}var gn=u(un,[["render",pn]]);const _n={name:"AppSearch",emits:["update:modelValue"],props:{modelValue:String},setup(e,{emit:t}){return{change:s=>{t("update:modelValue",s.target.value)}}}},mn={class:"relative text-gray-600 focus-within:text-gray-400 grow-1"},hn={class:"absolute inset-y-0 left-0 flex items-center pl-2"},fn=["aria-placeholder","placeholder","value"];function Sn(e,t,o,s,n,r){const c=g("app-icon");return i(),l("div",mn,[a("span",hn,[p(c,{icon:"search",class:"w-5 h-5"})]),a("input",{"aria-placeholder":e.$t("Search"),placeholder:e.$t("Search"),class:"py-2 pr-2 pl-10 block w-full rounded-lg outline-none focus:text-gray-700 focus:outline-none focus:placeholder-gray-300 placeholder-gray-400 bg-gray-100",type:"search",name:"search",autocomplete:"search",value:o.modelValue,onInput:t[0]||(t[0]=(...d)=>s.change&&s.change(...d))},null,40,fn)])}var yn=u(_n,[["render",Sn]]);const vn={name:"AppButtonClose",emits:["close"],setup(e,{emit:t}){return{close:()=>{t("close")}}}};function bn(e,t,o,s,n,r){const c=g("app-icon");return i(),l("button",{onClick:t[0]||(t[0]=(...d)=>s.close&&s.close(...d)),class:"inline-flex items-center justify-center w-6 h-6 p-1 rounded-full group hover:bg-gray-200 transition-colors duration-300 focus:outline-none focus:bg-gray-200 bg-gray-100 shrink-0"},[p(c,{icon:"x",class:"text-gray-500 transition-colors duration-300 group-hover:text-gray-800"})])}var $n=u(vn,[["render",bn]]),An=[Eo,Po,Bo,Qo,Oo,ns,us,Ss,Is,xs,Ps,Vs,Ks,nn,ln,gn,yn,$n],In={name:"focus",mounted(e){e.focus()}},Cn={name:"scroll-down",updated(e,t){t.value!==0&&(e.scrollTop=e.scrollHeight)}},wn=[In,Cn],En={passedTime(e){if(!Number.isInteger(e))return;const t=new Date(e),o={lastWeek:"'\u041D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439 \u043D\u0435\u0434\u0435\u043B\u0435'",yesterday:"'\u0412\u0447\u0435\u0440\u0430 \u0432' HH.mm",today:"'\u0421\u0435\u0433\u043E\u0434\u043D\u044F \u0432' HH.mm",tomorrow:"''",nextWeek:"''",other:"dd.MM.yyyy"},s=M(k({},He),{formatRelative:n=>o[n]});return Ve(t,new Date,{locale:s})},firstChar(e){return e.charAt(0).toUpperCase()},ucFirst(e){return e&&e[0].toUpperCase()+e.slice(1)}},Tn={install(e,{connection:t,options:o}){const s=Be(t,o);e.config.globalProperties.$socket=s,e.provide("socket",s)}};const E=je(co);E.use(qt).use(L).use(f).use(Tn,{connection:"https://chatboris1979.herokuapp.com",options:{}});wn.forEach(e=>{E.directive(e.name,e)});E.config.globalProperties.$filters=En;An.forEach(e=>{E.component(e.name,e)});E.mount("#app");export{u as _,L as r,f as s,Xt as u};
