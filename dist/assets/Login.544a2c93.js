var y=Object.defineProperty,A=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var w=(e,o,s)=>o in e?y(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,f=(e,o)=>{for(var s in o||(o={}))C.call(o,s)&&w(e,s,o[s]);if(h)for(var s of h(o))N.call(o,s)&&w(e,s,o[s]);return e},v=(e,o)=>A(e,k(o));import{c as P,a as $,u as M,b}from"./object.07269202.js";import{e as j,aa as q,i as E,P as I,r,o as L,h as R,b as d,d as n,S as p,w as D,a7 as T,X as U,a as G}from"./vendor.e8134c2c.js";import{r as H,_ as S}from"./index.e1689975.js";const O=()=>{const{t:e}=j(),o=q(),s=E(()=>o.getters["auth/isProgressStatusAuth"]),c=I(!0),i=6,g=P({email:$().required(e("Required",{name:"Email"})).email(e("Valid email")),password:$().required(e("Required",{name:e("Password")})).min(i,e("Min",{name:e("Password"),min:i}))}),{errors:a,handleSubmit:m,resetForm:_}=M({validationSchema:g}),{value:u}=b("password"),{value:t}=b("email"),F=m(async l=>{await o.dispatch("auth/login",v(f({},l),{t:e}))}),V=()=>{H.push({name:"home"}),o.dispatch("setNotify",{type:"success",message:e("Successful login message")},{root:!0})};return o.watch((l,B)=>B["auth/isLoggedIn"],l=>{l&&V()}),{onSubmit:F,email:t,password:u,errors:a,isActiveFocus:c,isButtonLoading:s}},W={name:"LoginForm",setup(){return f({},O())}},X={class:"w-full md:w-1/2 p-5"},x={class:"flex items-center pb-5"},z={class:"auth-subform"};function J(e,o,s,c,i,g){const a=r("app-icon"),m=r("app-input"),_=r("app-button"),u=r("router-link");return L(),R("div",X,[d("div",x,[n(a,{icon:"lock-open",class:"w-6 h-6"}),d("h2",null,p(e.$t("Login")),1)]),d("form",{onSubmit:o[2]||(o[2]=U((...t)=>e.onSubmit&&e.onSubmit(...t),["prevent"])),class:"space-y-8"},[n(m,{isActiveFocus:e.isActiveFocus,label:"Email",type:"email",name:"email",modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=t=>e.email=t),modelModifiers:{trim:!0},"error-message":e.errors.email},null,8,["isActiveFocus","modelValue","error-message"]),n(m,{label:"Password",type:"password",name:"password",modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=t=>e.password=t),modelModifiers:{trim:!0},"error-message":e.errors.password},null,8,["modelValue","error-message"]),n(_,{isButtonLoading:e.isButtonLoading},{default:D(()=>[T(p(e.$t("Login")),1)]),_:1},8,["isButtonLoading"])],32),d("div",z,[n(u,{to:{name:"forgot"},class:"text-sm hover:underline",textContent:p(e.$t("Forgot"))},null,8,["textContent"]),n(u,{to:{name:"signup"},class:"text-sm hover:underline",textContent:p(e.$t("Signup"))},null,8,["textContent"])])])}var K=S(W,[["render",J]]);const Q={name:"Login",components:{LoginForm:K}};function Y(e,o,s,c,i,g){const a=r("login-form");return L(),G(a)}var te=S(Q,[["render",Y]]);export{te as default};
